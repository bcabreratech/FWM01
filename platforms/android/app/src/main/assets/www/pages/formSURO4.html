<template>
    <div class="page" style="background-color: rgb(245, 245, 245);">
        <div class="navbar" style="background-color: #063E7F;height: 52px;">
            <div style="text-align: center;"><img src="img/logo-FWM.png" style="margin-top: 5px;" height="41.38px" alt="Logo Field"></div>
            <div class="navbar-inner sliding" style="height: 52px;">
                <div class="left">
                    <a href="#" onclick="regresarRecorridoSURO3();">
                        <span class="nav-text-regresar" id="nav-text-regresar-function">Regresar</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="page-content">
            <div style="text-align: center; justify-content:center; margin-right:auto; margin-left:auto; width: 99%;margin-top: 30px;">
                <h2 class="FWN-titulo-2">Encuesta MOT 2.0</h2>
                <div style="text-align: left;">
                    <form class="list FWM-fixing-form">
                        <style type="text/css">
                            select{
                                display: inline-block;
                                /* width: 100%;                                
                                height: 60px; */
                                padding-left: 10px;
                                background: #f0f0f0;
                                color: #7b7b7b;
                                font-size: 12px;
                                font-family: 'ITC Avant Garde Gothic', sans-serif;
                                border: 1px solid gray;
                                border-radius: 12px;
                                position: relative;
                                transition: all 0.25s ease;
                            }
                            select:hover{
                                background: #d6d7da;
                                border: 2px solid gray;
                            }
                            span{
                                font-size: 16px;
                                color:#00A7B5;
                                font-family: 'ITC Avant Garde Gothic', sans-serif;
                            }

                             hr{
                                all: revert;
                                opacity: 0.5;
                            } 
                        </style>
                        <span >¿En los últimos 30 días, te sientes satisfecho con el servicio que te ofrecemos?</span>
                        <br><br>
                        <select id="select1" name="select1" onchange="encuestaSURO(1,this.value);"  >
                            <option value="0">Seleccionar</option>
                            <option value="1">Insatisfecho</option>
                            <option value="2">Poco Satisfecho</option>
                            <option value="3">Satisfecho</option>
                            <option value="4">Muy satisfecho</option>
                            <option value="5">Altamente satisfecho</option>
                        </select>
                        <div style="display:none;" id="comentario1" name="comentario1">
                            <br><br>
                            <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                                evaluación:</span>
                            <br><br>
                            <textarea class ="FWM-input" id="come1" name="come1"  cols="30" rows="10" ></textarea>
                        </div>
                    <br><br>
                    <span >¿En los últimos 30 días, cumplimos con la
                        calidad de limpieza en tu sitio?</span>
                    <br><br>
                    <select id="select2" name="select2" onchange="encuestaSURO(2,this.value);" >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario2" name="comentario2">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input" id="come2" name="come2" cols="30" rows="10" ></textarea>
                    </div>
                    <br><br>
                    <span >En los últimos 30 días, los materiales
                        (químicos y jarcieria) que recibes de forma
                        mensual ¿Son entregados en tiempo y
                        forma de acuerdo a lo establecido?</span>
                    <br><br>
                    <select id="select3" name="select3" onchange="encuestaSURO(3,this.value);"  >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario3" name="comentario3">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input" id="come3" name="come3" cols="30" rows="10" ></textarea>
                    </div>
                    <br><br>
                    <span >¿En los últimos 30 días, la maquinaria que
                        tienes asignada a tu sitio, se encuentra
                        disponible para su uso?</span>
                    <br><br>
                    <select id="select4" name="select4" onchange="encuestaSURO(4,this.value);"  >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario4" name="comentario4">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input"  id="come4" name="come4" cols="30" rows="10" ></textarea>
                    </div>
                    <br><br>
                    <span >¿En los últimos 30 días, consideras que el
                        tiempo de respuesta en la cobertura de
                        vacantes es adecuado?</span>
                    <br><br>
                    <select id="select5" name="select5" onchange="encuestaSURO(5,this.value);"   >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario5" name="comentario5">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input"  id="come5" name="come5" cols="30" rows="10" ></textarea>
                    </div>
                    <br><br>
                    <span >¿En los últimos 30 días, te sientes
                        satisfecho con el personal de limpieza que
                        tienes asignado a tu sitio?</span>
                    <br><br>
                    <select id="select6" name="select6" onchange="encuestaSURO(6,this.value);"  >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario6" name="comentario6">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input"  id="come6" name="come6" cols="30" rows="10" ></textarea>
                    </div>
                    <br><br>
                    <span >¿En los últimos 30 días, has recibido
                        alguna inconformidad sobre el pago
                        nominal?</span>
                        <br><br>
                    <select id="select7" name="select7" onchange="encuestaSURO(7,this.value);"   >
                        <option value="0">Seleccionar</option>
                        <option value="1">Insatisfecho</option>
                        <option value="2">Poco Satisfecho</option>
                        <option value="3">Satisfecho</option>
                        <option value="4">Muy satisfecho</option>
                        <option value="5">Altamente satisfecho</option>
                    </select>
                    <div style="display:none;" id="comentario7" name="comentario7">
                        <br><br>
                        <span >Nos podría compartir por favor en qué debemos mejorar para lograr una mejor
                            evaluación:</span>
                        <br><br>
                        <textarea class ="FWM-input" id="come7" name="come7"  cols="30" rows="10" ></textarea>
                    </div>
                    <div class="block grid-resizable-demo" style="margin-bottom: 170px;">
                        <div class="row align-items-stretch" style="text-align: center;">
                            <div class="col-100 medium-50" style="min-width: 50px; border-style: none;">
                                <span class="resize-handler"></span>
                                <a href="#" onclick="guardarEncustaSURO();" class="boton-equipo">Guardar Encuesta</a>
                            </div>
                        </div>
                    </div>
                    </form>        
                </div>
            </div>
        </div>           
</template>
<script>
     
     return {
        on: {
          pageInit: function () {
            $('.preloader').remove();
            $('.infinite-scroll-preloader').remove();
            var id_cedula = localStorage.getItem("IdCedula");
                databaseHandler.db.transaction(
                    function(tx){
                        tx.executeSql("Select * from Encuesta_SURO where id_cedula = ? ",
                        [id_cedula],
                            function(tx, results){
                                
                                var item = results.rows.item(0);
                                $("#select1 > option[value="+item.pregunta1+"]").attr("selected",true);
                                if (item.pregunta1 == 2 || item.pregunta1 == 1 || item.pregunta1 == 3 || item.pregunta1 == 4 ){
                                    $('#comentario1').css('display','block');
                                    $('#come1').text(item.comentarios1)
                                }
                                $("#select2 > option[value="+item.pregunta2+"]").attr("selected",true);
                                if (item.pregunta2 == 2 || item.pregunta2 == 1 || item.pregunta2 == 3 || item.pregunta2 == 4){
                                    $('#comentario2').css('display','block');
                                    $('#come2').text(item.comentarios2)
                                }
                                $("#select3 > option[value="+item.pregunta3+"]").attr("selected",true);
                                if (item.pregunta3 == 2 || item.pregunta3 == 1 || item.pregunta3 == 3 || item.pregunta3 == 4){
                                    $('#comentario3').css('display','block');
                                    $('#come3').text(item.comentarios3)
                                }
                                $("#select4 > option[value="+item.pregunta4+"]").attr("selected",true);
                                if (item.pregunta4 == 2 || item.pregunta4 == 1 || item.pregunta4 == 3 || item.pregunta4 == 4){
                                    $('#comentario4').css('display','block');
                                    $('#come4').text(item.comentarios4)
                                }
                                $("#select5 > option[value="+item.pregunta5+"]").attr("selected",true);
                                if (item.pregunta5 == 2 || item.pregunta5 == 1 || item.pregunta5 == 3 || item.pregunta5 == 4){
                                    $('#comentario5').css('display','block');
                                    $('#come5').text(item.comentarios5)
                                }
                                $("#select6 > option[value="+item.pregunta6+"]").attr("selected",true);
                                if (item.pregunta6 == 2 || item.pregunta6 == 1 ||item.pregunta6 == 3 || item.pregunta6 == 4){
                                    $('#comentario6').css('display','block');
                                    $('#come6').text(item.comentarios6)
                                }
                                $("#select7 > option[value="+item.pregunta7+"]").attr("selected",true);
                                if (item.pregunta7 == 2 || item.pregunta7 == 1 || item.pregunta7 == 3 || item.pregunta7 == 4){
                                    $('#comentario7').css('display','block');
                                    $('#come7').text(item.comentarios7)
                                }
                                app.preloader.hide();
                            },
                            function(tx, error){
                                console.log("Error al guardar cedula: " + error.message);
                                app.preloader.hide();
                            }
                        );
                    },
                    function(error){},
                    function(){}
                );
            }
        }
    }

</script>    